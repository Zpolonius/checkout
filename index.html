<html>
    <head>
        <title>
            Test checkout API!
        </title>
        <link rel="stylesheet" type="text/css" media="screen" href="/css/checkout_css" />
        <script type="module" src="https://testgateway.altapaysecure.com/checkout/v1/js/AltaPaySDK.js"></script>
    </head>
    <body>
        
        var paymentSession = null;

        var authBearer = "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJpc3MiOiJBbHRhUGF5IElzc3VlciIsInVwbiI6ImVzdGViYW5fYXBpX2NoZWNrb3V0IiwiZ3JvdXBzIjpbIkV4ZWN1dGVQYXltZW50IiwiU2Vzc2lvblVwZGF0ZSIsIkxpc3RQYXltZW50TWV0aG9kcyJdLCJ1c2VySWQiOiJmZjVkOWUxZS0yZTg3LTRiYmYtYTljYS02OTEyMjUyMDRkNWIiLCJ1c2VyS2V5IjoiUm5PdDAvYjBvMmEwdC9JNjYvQXdiejd2L1d6UjRpcU5JWTJQMmVyZlpVMlpCbm9zMkxzMXgzMGlXNHZaMGhISW02MDNNcHRCV1JlQjIvYzllcHNxRTlTczBKQ2xoSXh6eHZRTDRob1AvdDIrM0c1djVzMzlkV00rOUFtaWE5TENhYlV3TXFtbVNXUFNVN0hXazlZTnFnPT0iLCJhcGlVcmwiOiJodHRwczovL3Rlc3RnYXRld2F5LmFsdGFwYXlzZWN1cmUuY29tL2NoZWNrb3V0IiwiaWF0IjoxNjkyMzY1NjY0LCJleHAiOjE2OTIzNjc0NjQsImp0aSI6IjRlNWY4MGZjLTA5YTMtNDlkYy1hMjQ1LWIxMTUzMWM3OWM4ZCJ9.E8_qoXyedPcS_iv91l2ZAT2MgKifa0Ot0QbtIxEhKL8NgSU56HRoPfhLrjT_ZfdQX_HkvzCn9c8-6XcdgQ6XqgE_yr_N_ELwl9tLXbHkPWEGfgxe62ysrV3g2ApKVt-eb2svzdQbQW58WeJ5tMMzDVX3kb7t_Nc_yXHYuCMT0X6-JKXGwN9rolms8kWYdFtUmpyPyEsiW2a1XXnpiWvqkOwEW9mbHwUUlHJYZHp4ZJ7Dk35EffUAb2qjlfdcA6WP39iNRc5p004V_wk_MEqpHqHqL_rR1MnCXNTZY2p7cbI1EPpe4t6yk9oc-gnayscMCFbR_4ysw9_Pq0Oy-Pw7Rg";
        var sessionId = "4f849662-a685-4896-a985-07d94aac07bd"
        var orderId = "Qr-Demo-10";


        var paymentSession = null;
        window.onload = function() {
            paymentSession = Altapay.init(authBearer, sessionId);
            paymentSession.setCallbacks(
                AltaPayFactory.getCallbacksBuilder()
                    .setSuccess(function (altapayEvent) {
                        alert("I am done, it works");
                        window.location = "https://google.com";
                    }) // URL can be passed here as well
                    .setFailure(function (altapayEvent) {
                        alert("I am done, it does not works");
                        window.location = "https://google.com";
                    }) // URL can be passed here as well
                    // .setRedirectUrl('https://your_host.com/redirect')
                    // .setNotificationUrl('https://your_host.com/redirect/notification')
                    .build()
            )
            paymentSession.injectPaymentMethods(document.getElementById('zachs-payment-list'));
            document.getElementById("payButton").onclick = function onPayButtonClick() {
                paymentSession.initiatePayment();
            }
        }
    </script>
    </body>